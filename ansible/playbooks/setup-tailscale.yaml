---
# playbooks/setup-tailscale.yaml
# Installs and configures Tailscale VPN on all nodes
# Requires group_vars/all/vault.yml with `tailscale_auth_key` defined

- name: Setup Tailscale VPN
  hosts: all
  become: true

  roles:
    - tailscale

  # Optional: override defaults if needed
  vars:
    # Example overrides:
    # tailscale_args: "--accept-routes --advertise-exit-node=false"
    # tailscale_enable_ssh: true
    # tailscale_accept_dns: true
    # tailscale_advertise_tags: ["tag:server"]
