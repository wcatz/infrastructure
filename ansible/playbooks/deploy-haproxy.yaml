---
# HAProxy Deployment Playbook
# This playbook deploys HAProxy as a TCP/UDP load balancer

- name: Deploy HAProxy Load Balancer
  hosts: haproxy_servers
  become: true

  roles:
    - haproxy

  vars:
    # Override default values if needed
    # haproxy_tcp_backends:
    #   - name: mysql
    #     port: 3306
    #     mode: tcp
    #     balance: roundrobin
    #     servers:
    #       - name: mysql-1
    #         address: 192.168.1.10
    #         port: 3306
    #         check: true
    #         check_interval: 2s
    #       - name: mysql-2
    #         address: 192.168.1.11
    #         port: 3306
    #         check: true
    #         check_interval: 2s
    #
    # haproxy_udp_backends:
    #   - name: wireguard
    #     port: 51820
    #     mode: udp
    #     balance: roundrobin
    #     servers:
    #       - name: wireguard-1
    #         address: 192.168.1.20
    #         port: 51820
