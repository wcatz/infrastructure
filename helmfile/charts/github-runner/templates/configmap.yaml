apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "github-runner.fullname" . }}
  namespace: {{ .Values.kubernetes.namespace }}
  labels:
    {{- include "github-runner.labels" . | nindent 4 }}
data:
  runner-config.sh: |
    #!/bin/bash
    # GitHub Actions Runner configuration helper script
    set -e

    echo "GitHub Actions Runner Configuration"
    echo "===================================="
    echo "Repository: {{ .Values.github.repository }}"
    echo "Labels: {{ include "github-runner.labels-string" . }}"
    {{- if .Values.runner.group }}
    echo "Group: {{ .Values.runner.group }}"
    {{- end }}
    echo "Ephemeral: {{ .Values.runner.ephemeral }}"
    echo "===================================="
